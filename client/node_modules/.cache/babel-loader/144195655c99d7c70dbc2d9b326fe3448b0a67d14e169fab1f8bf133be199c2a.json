{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Selva\\\\OneDrive\\\\Desktop\\\\New folder (2)\\\\client\\\\src\\\\components\\\\DownloadPDF.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport { useParams } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst DownloadPDF = () => {\n  _s();\n  const [year, setYear] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  const {\n    id\n  } = useParams();\n  const handleDownload = async () => {\n    if (!year) {\n      setError('Please provide both Student ID and Year.');\n      return;\n    }\n    setLoading(true);\n    setError('');\n    try {\n      const response = await axios({\n        url: `/downloadpdf/${studentId}`,\n        method: 'GET',\n        headers: {\n          year: year\n        },\n        responseType: 'blob'\n      });\n      const link = document.createElement('a');\n      link.href = URL.createObjectURL(response.data);\n      link.download = `yearly-leaves-${year}.pdf`; // File name\n      link.click();\n    } catch (error) {\n      console.error('Error downloading PDF:', error);\n      setError('Failed to generate PDF. Please try again later.');\n    } finally {\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Download Yearly Leaves Report\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      htmlFor: \"studentId\",\n      children: \"Student ID:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      id: \"studentId\",\n      value: studentId,\n      onChange: e => setStudentId(e.target.value),\n      placeholder: \"Enter Student ID\",\n      required: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      htmlFor: \"year\",\n      children: \"Year:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      id: \"year\",\n      value: year,\n      onChange: e => setYear(e.target.value),\n      placeholder: \"Enter Year (e.g., 2025)\",\n      required: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleDownload,\n      disabled: loading,\n      children: loading ? 'Downloading...' : 'Download PDF'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"error\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 5\n  }, this);\n};\n_s(DownloadPDF, \"qdvHSmMwOjTOBky1ujp7ixNV0+8=\", false, function () {\n  return [useParams];\n});\n_c = DownloadPDF;\nexport default DownloadPDF;\nvar _c;\n$RefreshReg$(_c, \"DownloadPDF\");","map":{"version":3,"names":["React","useState","axios","useParams","jsxDEV","_jsxDEV","DownloadPDF","_s","year","setYear","loading","setLoading","error","setError","id","handleDownload","response","url","studentId","method","headers","responseType","link","document","createElement","href","URL","createObjectURL","data","download","click","console","className","children","fileName","_jsxFileName","lineNumber","columnNumber","htmlFor","type","value","onChange","e","setStudentId","target","placeholder","required","onClick","disabled","_c","$RefreshReg$"],"sources":["C:/Users/Selva/OneDrive/Desktop/New folder (2)/client/src/components/DownloadPDF.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport axios from 'axios';\r\nimport { useParams } from 'react-router-dom';\r\n\r\nconst DownloadPDF = () => {\r\n  \r\n  const [year, setYear] = useState('');\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState('');\r\n  const {id} = useParams();\r\n  const handleDownload = async () => {\r\n    if (!year) {\r\n      setError('Please provide both Student ID and Year.');\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n    setError('');\r\n\r\n    try {\r\n      \r\n      const response = await axios({\r\n        url: `/downloadpdf/${studentId}`,\r\n        method: 'GET',\r\n        headers: {\r\n          year: year, \r\n        },\r\n        responseType: 'blob', \r\n      });\r\n\r\n      \r\n      const link = document.createElement('a');\r\n      link.href = URL.createObjectURL(response.data);\r\n      link.download = `yearly-leaves-${year}.pdf`; // File name\r\n      link.click();\r\n    } catch (error) {\r\n      console.error('Error downloading PDF:', error);\r\n      setError('Failed to generate PDF. Please try again later.');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <h1>Download Yearly Leaves Report</h1>\r\n\r\n      {/* Student ID input */}\r\n      <label htmlFor=\"studentId\">Student ID:</label>\r\n      <input\r\n        type=\"text\"\r\n        id=\"studentId\"\r\n        value={studentId}\r\n        onChange={(e) => setStudentId(e.target.value)}\r\n        placeholder=\"Enter Student ID\"\r\n        required\r\n      />\r\n\r\n      {/* Year input */}\r\n      <label htmlFor=\"year\">Year:</label>\r\n      <input\r\n        type=\"text\"\r\n        id=\"year\"\r\n        value={year}\r\n        onChange={(e) => setYear(e.target.value)}\r\n        placeholder=\"Enter Year (e.g., 2025)\"\r\n        required\r\n      />\r\n\r\n      {/* Download button */}\r\n      <button onClick={handleDownload} disabled={loading}>\r\n        {loading ? 'Downloading...' : 'Download PDF'}\r\n      </button>\r\n\r\n      {/* Error message */}\r\n      {error && <p className=\"error\">{error}</p>}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DownloadPDF;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}